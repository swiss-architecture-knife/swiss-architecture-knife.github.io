"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[276],{3922:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"cms/local-filesystem","title":"Filesystem","description":"By default, each piece of content must be stored in the directory app/swark/_default. You can configure another location by setting the variable \'content.path\' in your config/swark.php.","source":"@site/manual/cms/local-filesystem.md","sourceDirName":"cms","slug":"/cms/local-filesystem","permalink":"/manual/cms/local-filesystem","draft":false,"unlisted":false,"editUrl":"https://github.com/swiss-architecture-knife/manual/manual/cms/local-filesystem.md","tags":[],"version":"current","sidebarPosition":40,"frontMatter":{"sidebar_position":40},"sidebar":"tutorialSidebar","previous":{"title":"Pages and chapters","permalink":"/manual/cms/pages"},"next":{"title":"FAQ","permalink":"/manual/faq"}}');var a=r(4848),s=r(8453);const i={sidebar_position:40},o="Filesystem",c={},d=[{value:"Organizing your content directories",id:"organizing-your-content-directories",level:2},{value:"Chapters",id:"chapters",level:2},{value:"Adding content before or after a chapter",id:"adding-content-before-or-after-a-chapter",level:3},{value:"Dynamic content",id:"dynamic-content",level:2},{value:"Scomp IDs",id:"scomp-ids",level:3}];function l(e){const t={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"filesystem",children:"Filesystem"})}),"\n",(0,a.jsxs)(t.p,{children:["By default, each piece of content must be stored in the directory ",(0,a.jsx)(t.code,{children:"app/swark/_default"}),". You can configure another location by setting the variable 'content.path' in your ",(0,a.jsx)(t.code,{children:"config/swark.php"}),"."]}),"\n",(0,a.jsx)(t.p,{children:"You can either deploy your swark instance with the content in it our put your content into another Git repository and then pull that repository into your swark instance."}),"\n",(0,a.jsx)(t.h2,{id:"organizing-your-content-directories",children:"Organizing your content directories"}),"\n",(0,a.jsxs)(t.p,{children:["swark uses Laravel's named routes to find the correct subdirectory containing your content.\nEach page has a named route which something like ",(0,a.jsx)(t.code,{children:"swark.strategy.index"}),". That named route maps to the relative URL ",(0,a.jsx)(t.code,{children:"/swark/strategy"}),". On the command line, you can execute ",(0,a.jsx)(t.code,{children:"php artisan route:list | grep swark"})," to find all relevant routes, e.g."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"  GET|HEAD   swark/glossary ................................................................... swark.glossary.index \u203a Swark\\Http\\Ui\\GlossaryController@index\n  GET|HEAD   swark/infrastructure/baremetals .................. swark.infrastructure.baremetal.index \u203a Swark\\Http\\Ui\\Infrastructure\\BaremetalController@index\n  GET|HEAD   swark/infrastructure/clusters ........................ swark.infrastructure.cluster.index \u203a Swark\\Http\\Ui\\Infrastructure\\ClusterController@index\n  GET|HEAD   swark/infrastructure/clusters/{cluster} ............ swark.infrastructure.cluster.detail \u203a Swark\\Http\\Ui\\Infrastructure\\ClusterController@detail\n  GET|HEAD   swark/infrastructure/resources/{resource_type} ..... swark.infrastructure.resource.index \u203a Swark\\Http\\Ui\\Infrastructure\\ResourceController@index\n  GET|HEAD   swark/infrastructure/system-landscape ................. swark.infrastructure.index \u203a Swark\\Http\\Ui\\Infrastructure\\InfrastructureController@index\n  GET|HEAD   swark/it-architecture .................................. swark.it_architecture.index \u203a Swark\\Http\\Ui\\Architecture\\ITArchitectureController@index\n  ...\n  GET|HEAD   swark/strategy .......................................................... swark.strategy.index \u203a Swark\\Http\\Ui\\Strategy\\StrategyController@index  \n"})}),"\n",(0,a.jsxs)(t.p,{children:["To change some content for the ",(0,a.jsx)(t.code,{children:"swark.strategy.index"})," route, simply navigate to ",(0,a.jsx)(t.code,{children:"${content.path}/swark/strategy/index"}),"."]}),"\n",(0,a.jsx)(t.h2,{id:"chapters",children:"Chapters"}),"\n",(0,a.jsxs)(t.p,{children:["If a chapter's content is only included, you have to create a file with the name of its chapter's id. For example, if you want to change the content of the chapter ",(0,a.jsx)(t.code,{children:"introduction"})," in the page ",(0,a.jsx)(t.code,{children:"swark.strategy.index"}),", create a file ",(0,a.jsx)(t.code,{children:"${content.path}/swark/strategy/index/introduction.md"}),". You can either use ",(0,a.jsx)(t.code,{children:"md"}),", ",(0,a.jsx)(t.code,{children:"html"})," or ",(0,a.jsx)(t.code,{children:"blade.php"})," as a file extension."]}),"\n",(0,a.jsx)(t.h3,{id:"adding-content-before-or-after-a-chapter",children:"Adding content before or after a chapter"}),"\n",(0,a.jsx)(t.p,{children:"It may be the case that your page's layout already defines a content for a given chapter. For example, if some data tables are displayed or an infrastructure diagram is automatically rendered.\nInstead of modifying that page's layout to insert content before or after this automatically generated data, you can use one those well-defined filenames:"}),"\n",(0,a.jsxs)(t.table,{children:[(0,a.jsx)(t.thead,{children:(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.th,{children:"Filename"}),(0,a.jsx)(t.th,{children:"When displayed"})]})}),(0,a.jsxs)(t.tbody,{children:[(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:(0,a.jsx)(t.code,{children:"${chapter_id}-before-chapter.blade.php"})}),(0,a.jsx)(t.td,{children:"Before the current chapter's header"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:(0,a.jsx)(t.code,{children:"${chapter_id}-before.blade.php"})}),(0,a.jsx)(t.td,{children:"Before the current chapter's body"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:(0,a.jsx)(t.code,{children:"${chapter_id}-after.blade.php"})}),(0,a.jsx)(t.td,{children:"After the current chapter's body"})]})]})]}),"\n",(0,a.jsxs)(t.p,{children:["If you want to add some content before the ",(0,a.jsx)(t.code,{children:"introduction"})," chapter, you would have to create a file ",(0,a.jsx)(t.code,{children:"${content.path}/swark/strategy/index/introduction-before.blade.php"}),"."]}),"\n",(0,a.jsx)(t.h2,{id:"dynamic-content",children:"Dynamic content"}),"\n",(0,a.jsx)(t.p,{children:"The previous section only dealt with a page which is unique in your whole swark instance. This may be some kind of global introduction, a glossary, some Jira issue aggregation.\nBut what happens if you want to modify some content which is specific for exatly one of your configuration items?\nBased upon the current route's parameters, swark locates the content in the correct subdirectory."}),"\n",(0,a.jsxs)(t.p,{children:["Let's say you want to add some remarks about your configuration item ",(0,a.jsx)(t.code,{children:"cluster"})," with its id ",(0,a.jsx)(t.code,{children:"1"}),". From the output above, this maps to ",(0,a.jsx)(t.code,{children:"swark.infrastructure.cluster.detail"})," and has a route parameter named ",(0,a.jsx)(t.code,{children:"{cluster}"}),":"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"  GET|HEAD   swark/infrastructure/clusters/{cluster} ............ swark.infrastructure.cluster.detail \u203a Swark\\Http\\Ui\\Infrastructure\\ClusterController@detail\n"})}),"\n",(0,a.jsxs)(t.p,{children:["Again, navgiate to ",(0,a.jsx)(t.code,{children:"${content.path}/swark/infrastructure/cluster/detail/1/"})," and create a file named ",(0,a.jsx)(t.code,{children:"overview-after.blade.php"}),". As discussed before, it will only render when the cluster with ID ",(0,a.jsx)(t.code,{children:"1"})," is shown."]}),"\n",(0,a.jsx)(t.h3,{id:"scomp-ids",children:"Scomp IDs"}),"\n",(0,a.jsxs)(t.p,{children:["Dealing with numeric IDs like ",(0,a.jsx)(t.code,{children:"1"})," does not reflect the real world. You have probably one internal name for your cluster, e.g. ",(0,a.jsx)(t.code,{children:"dc1-esx-primary"}),". swark uses the concept of ",(0,a.jsx)(t.em,{children:"scomp IDs"}),". They must be unique for every type and you can assign your cluster that very internal name as a scomp ID.\nInstead of using ",(0,a.jsx)(t.code,{children:"<...>/cluster/detail/1/"})," you can then ",(0,a.jsx)(t.em,{children:"also"})," use the folder ",(0,a.jsx)(t.code,{children:"cluster/detail/dc1-esx-primary/"})," for your content.\nIf content of the same type for the same configuration item is loaded, then your scomp-identified content has precedence."]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>i,x:()=>o});var n=r(6540);const a={},s=n.createContext(a);function i(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);